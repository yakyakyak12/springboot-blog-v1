{{> /layout/header}}

<div class="container p-4">
  {{#pageOwner}}
  <div class="d-flex container mb-4">
    <a class="ms-auto btn btn-secondary m-1" href="/">ëŒì•„ê°€ê¸°</a>
    <a class="btn btn-warning m-1" href="/board/{{dtos.0.boardId}}/updateForm">ìˆ˜ì •</a>
    <form action="/board/{{dtos.0.boardId}}/delete" method="post">
      <button type="submit" class="btn btn-danger m-1">ì‚­ì œ</button>
    </form>
  </div>
  {{/pageOwner}}

  {{^pageOwner}}
  <div class="d-flex container mb-4">
    <a class="ms-auto btn btn-secondary m-1" href="/">ëŒì•„ê°€ê¸°</a>
  </div>
  {{/pageOwner}}


  {{#board}}
  <div class="d-flex justify-content-between p-1">
    <div class="d-flex justify-content-start">
      <div class="">ê¸€ë²ˆí˜¸ : {{id}}</div>
    </div>
    <div class="d-flex justify-content-end">
      <div class="">ì‘ì„±ì : {{username}}</div>
    </div>
  </div>
  {{/board}}
  <!--ìš”ì²­ì„ í•˜ë©´ localhost:8080/board/save POSTë¡œ ìš”ì²­ë¨.
  title=ì‚¬ìš©ìì…ë ¥ê°’&content=ì‚¬ìš©ìê°’ x-www-form-urlencoded -->


  <div class="card p-3">
    <div>
      <h2><b>{{dtos.0.boardTitle}}</b></h2>
      <hr />
      <div class="container m-4 p-2">{{dtos.0.boardContent}}</div>
    </div>
  </div>



  <!-- ëŒ“ê¸€ -->
  <div class="card mt-3">
    <div class="card-header"><b>ëŒ“ê¸€</b></div>
    <div class="card-body">
      <form action="/reply/save" method="post">
        <input type="hidden" name="boardId" value="{{dtos.0.boardId}}">
        <div class="mb-3">
          <textarea class="form-control" rows="2" name="comment"></textarea>
        </div>
        <div class="d-flex justify-content-end">
          <button type="submit" class="btn btn-outline-primary">ëŒ“ê¸€ë“±ë¡</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ -->
  <div class="card mt-3">
    <div class="card-header"><b>ëŒ“ê¸€ë¦¬ìŠ¤íŠ¸</b></div>
    <div class="list-group">
      <!-- ëŒ“ê¸€ì•„ì´í…œ -->
      {{#dtos}}
      {{#replyId}}
      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div class="d-flex">
          <div class="px-1 me-1 bg-primary text-white rounded">
            {{replyUserUsername}}</div>
          <div>{{replyComment}}</div>
        </div>
        {{#replyOwner}}
        <form action="/reply/{{replyId}}/delete" method="post">
          <input type="hidden" name="boardId" value="{{boardId}}" />
          <button class="btn">ğŸ—‘</button>
        </form>
        {{/replyOwner}}
      </div>
      {{/replyId}}
      {{/dtos}}

      <!-- ëŒ“ê¸€ì•„ì´í…œ -->

    </div>
  </div>
</div>

</div>

<!--ìš”ì²­ì„ í•˜ë©´ localhost:8080/join POSTë¡œ ìš”ì²­ë¨.
  username=ì‚¬ìš©ìì…ë ¥ê°’&password=ì‚¬ìš©ìê°’ x-www-form-urlencoded -->

{{> /layout/footer}}